# 🎨 SketchMasking

웹페이지에 그림을 그리고 텍스트를 마스킹하는 크롬 확장프로그램입니다.

🔗 **[Chrome 웹 스토어에서 SketchMasking 설치하기](https://chromewebstore.google.com/detail/sketchmasking/ddbcbcihnfeijcokebgeiidciidoefci?hl=ko)**

[![Chrome 웹 스토어](https://img.shields.io/chrome-web-store/v/ddbcbcihnfeijcokebgeiidciidoefci?label=Chrome%20웹%20스토어&color=4285f4)](https://chromewebstore.google.com/detail/sketchmasking/ddbcbcihnfeijcokebgeiidciidoefci?hl=ko)

## 📷 프로젝트 미리보기

https://github.com/user-attachments/assets/14572c58-f9ee-4f0d-8a00-e867aa1449fc


## ✨ 주요 기능

### 🖼️ 그리기 기능
- **단축키**: `Alt + 1` (맥: `Option + 1`)
- 웹페이지 위에 오버레이로 그림 그리기
- 지원 도구:
  - ⬜ 박스 (사각형) - 기본 도구
  - ⭕ 원/타원
  - ✏️ 펜 (자유 그리기)
  - 📏 선 (직선)
- ❌ 그리기 모드 종료
- 🎨 색상 및 선 굵기 커스터마이징 지원
- 📐 도구모음 접기/펴기 기능

### 🔒 텍스트 마스킹 기능
- **단축키**: `Alt + 2` (맥: `Option + 2`)
- 선택된 텍스트를 마스킹 문자로 교체 (기본값: `*`)
- **예시**: "가족 안전 빠르게 확인해주세요." → "** ** ** ** *** *******"
- 공백과 줄바꿈은 원래 형태 유지
- 마스킹 해제 기능 지원
- 마스킹 문자 커스터마이징 지원

### 🔍 영역 마스킹 기능
- **단축키**: `Alt + 3` (맥: `Option + 3`)
- 드래그로 선택한 영역을 블러 효과로 마스킹
- 민감한 정보나 개인정보가 포함된 화면 영역을 가림
- 블러 강도 조절 가능
- 여러 영역 동시 마스킹 지원


## 📖 사용 방법

### 그리기 기능 사용법
1. `Alt + 1` (맥: `Option + 1`) 키를 눌러 그리기 모드 활성화
2. 화면 왼쪽 상단에 나타나는 도구 모음에서 원하는 도구 선택:
   - **박스**: 시작점에서 끝점까지 드래그하여 사각형 그리기
   - **원**: 중심점에서 외곽까지 드래그하여 원 그리기
   - **펜**: 클릭&드래그로 자유롭게 그리기
   - **선**: 시작점에서 끝점까지 드래그하여 직선 그리기
3. 도구모음 접기/펴기 버튼 `◀/▶`으로 화면 공간 최적화
4. ❌ 버튼 또는 `Alt + 1` (맥: `Option + 1`)로 그리기 모드 종료
   (종료 시 모든 그림과 마스킹이 자동으로 지워집니다)

### 텍스트 마스킹 사용법
1. 마스킹하고 싶은 텍스트를 마우스로 드래그하여 선택
2. `Alt + 2` (맥: `Option + 2`) 키를 누르거나 확장프로그램 팝업에서 "텍스트 마스킹" 버튼 클릭
3. 선택된 텍스트가 자동으로 마스킹 문자로 교체됨
4. 다시 `Alt + 2`를 누르면 모든 마스킹이 해제됨

### 영역 마스킹 사용법
1. `Alt + 3` (맥: `Option + 3`) 키를 눌러 영역 마스킹 모드 활성화
2. 마우스 커서가 십자 모양으로 변경됨
3. 마스킹하고 싶은 영역을 드래그하여 선택
4. 선택한 영역이 블러 효과로 마스킹됨
5. 여러 영역을 연속으로 마스킹 가능
6. `Alt + 3` (맥: `Option + 3`)으로 영역 마스킹 모드 종료
   (종료 시 모든 영역 마스킹이 자동으로 제거됩니다)

## 🎯 팝업 인터페이스

브라우저 도구 모음의 SketchMasking 아이콘을 클릭하면:
- 현재 그리기 모드 및 영역 마스킹 모드 상태 확인
- 버튼 클릭으로 각 기능 실행:
  - **그리기 모드 활성화/비활성화** 버튼
  - **텍스트 마스킹** 버튼 (선택된 텍스트 즉시 마스킹)
  - **영역 마스킹 활성화/비활성화** 버튼
  - **설정** 버튼 (색상, 선 굵기, 블러 강도 등 커스터마이징)
- 단축키 안내 및 사용법 확인
- 팝업 내에서도 단축키 `1`, `2`, `3` 사용 가능

## 🔧 기술 스택

- **Manifest V3**: 최신 Chrome Extension API
- **Content Scripts**: 웹페이지 조작 및 오버레이 구현
- **Canvas API**: 그리기 기능 구현
- **Service Worker**: 백그라운드 작업 및 단축키 처리
- **Storage API**: 사용자 설정 저장 및 동기화
- **Backdrop Filter**: 영역 마스킹 블러 효과
- **HTML/CSS/JavaScript**: 팝업 인터페이스 및 설정 페이지

## 📁 파일 구조

```
SketchMasking/
├── manifest.json          # 확장프로그램 설정
├── background.js          # 백그라운드 서비스 워커
├── content.js            # 메인 기능 스크립트
├── popup.html            # 팝업 인터페이스
├── popup.js              # 팝업 기능
├── options.html          # 설정 페이지
├── options.js            # 설정 기능
├── styles.css            # 스타일시트
├── README.md             # 프로젝트 문서
└── icons/                # 아이콘 폴더
    ├── icon16.png        # 16x16 아이콘
    ├── icon32.png        # 32x32 아이콘
    ├── icon48.png        # 48x48 아이콘
    └── icon128.png       # 128x128 아이콘
```

## 🎨 설정 페이지를 통한 커스터마이징

확장프로그램 팝업에서 **설정** 버튼을 클릭하거나 `chrome://extensions`에서 SketchMasking의 세부정보 → 확장 프로그램 옵션을 클릭하여 설정 페이지에 접근할 수 있습니다.

설정 가능한 항목:
- **그리기 설정**:
  - 선 색상 (기본값: #FF0000 빨간색)
  - 선 굵기 (기본값: 2px)
  - 도구모음 초기 접힘 상태
- **텍스트 마스킹 설정**:
  - 마스킹 문자 (기본값: *)
- **영역 마스킹 설정**:
  - 블러 강도 (기본값: 10px)


## 🐛 문제 해결

### 그리기 모드가 작동하지 않을 때
1. **확장프로그램 새로고침**: Chrome에서 `chrome://extensions/` → SketchMasking 새로고침 버튼 클릭
2. **페이지 새로고침**: 웹페이지를 새로고침 후 다시 시도  
3. **권한 확인**: 확장프로그램이 해당 사이트에서 실행될 수 있는지 확인
4. **콘솔 확인**: Chrome 개발자 도구(F12)에서 오류 메시지 확인

### 텍스트 마스킹이 작동하지 않을 때
1. **텍스트 선택 확인**: 텍스트가 제대로 드래그 선택되었는지 확인
2. **편집 가능 영역**: 읽기 전용 영역은 마스킹이 불가능할 수 있음
3. **확장프로그램 충돌**: 다른 확장프로그램과의 충돌 가능성 확인
4. **사이트 정책**: 일부 보안이 강화된 사이트에서는 동작하지 않을 수 있음

### 영역 마스킹이 작동하지 않을 때
1. **영역 크기**: 너무 작은 영역(10px 미만)은 마스킹되지 않음
2. **브라우저 지원**: 일부 구형 브라우저에서는 backdrop-filter가 지원되지 않을 수 있음
3. **영역 선택**: 시작점에서 끝점까지 명확하게 드래그했는지 확인
4. **모드 상태**: 영역 마스킹 모드가 제대로 활성화되었는지 확인

### 단축키가 작동하지 않을 때
1. **단축키 설정**: Chrome에서 `chrome://extensions/shortcuts`에서 단축키 확인
2. **다른 프로그램과의 충돌**: 시스템 단축키나 다른 앱과의 충돌 확인
3. **포커스 확인**: 웹페이지에 포커스가 있는지 확인

## 📝 라이센스

이 프로젝트는 개인 사용 및 교육 목적으로 자유롭게 사용할 수 있습니다.

## 🔄 버전 정보

- **v1.2.0**: 설정 기능 추가
  - 설정 페이지 추가 (색상, 선 굵기, 블러 강도 등 커스터마이징)
  - 설정 저장 및 동기화 기능
  - 마스킹 해제 기능 강화
  - 성능 및 안정성 개선

- **v1.1.0**: 영역 마스킹 기능 추가
  - 영역 마스킹 기능 추가 (Alt+3)
  - 성능 및 안정성 개선

- **v1.0.0**: 초기 릴리스
  - 기본 그리기 기능 (펜, 사각형, 원, 선)
  - 텍스트 마스킹 기능
  - 팝업 인터페이스
  - 단축키 지원 (Alt+1, Alt+2)

